(function(t){function e(e){for(var n,c,r=e[0],i=e[1],l=e[2],u=0,m=[];u<r.length;u++)c=r[u],Object.prototype.hasOwnProperty.call(s,c)&&s[c]&&m.push(s[c][0]),s[c]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);d&&d(e);while(m.length)m.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,r=1;r<a.length;r++){var i=a[r];0!==s[i]&&(n=!1)}n&&(o.splice(e--,1),t=c(c.s=a[0]))}return t}var n={},s={app:0},o=[];function c(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=t,c.c=n,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(a,n,function(e){return t[e]}.bind(null,n));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],i=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var d=i;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"22bc":function(t,e,a){t.exports=a.p+"img/icon_vanilla.1c9b3430.png"},"294d":function(t,e,a){"use strict";a("9ea8")},"3db6":function(t,e,a){t.exports=a.p+"img/vanilla_white.34deb758.png"},4396:function(t,e,a){t.exports=a.p+"img/BPMConseil.0f4f5753.png"},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{staticClass:"grey lighten-4"},[t.loaded?a("div",[a("Navbar"),a("v-main",{staticClass:"mx-4 mb-4 pb-15"},[a("router-view")],1),t._l(t.snackbars.data,(function(e,n){return a("v-snackbar",{key:e.id,style:"bottom: "+(4*n+1)+"em",attrs:{right:"",rounded:"pill",color:e.color,timeout:"5000"},scopedSlots:t._u([{key:"action",fn:function(n){var s=n.attrs;return[a("v-btn",t._b({attrs:{icon:"",text:""},on:{click:function(a){return t.removeSnackbar(e)}}},"v-btn",s,!1),[a("v-icon",[t._v(" mdi-close-circle ")])],1)]}}],null,!0),model:{value:e.aff,callback:function(a){t.$set(e,"aff",a)},expression:"snackbar.aff"}},[t._v(" "+t._s(e.text)+" ")])})),a("Footer")],2):a("div",[a("v-overlay",{attrs:{opacity:"1",value:"true"}},[t.loadingCircular?a("v-progress-circular",{attrs:{indeterminate:"",size:"100"}},[t._v(" "+t._s(t.loadingMsg)+" ")]):a("div",{staticClass:"ma-5"},[t._v(" "+t._s(t.loadingMsg)+" ")])],1)],1)])},o=[],c=a("5530"),r=(a("b0c0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",[n("v-app-bar",{staticClass:"indigo",attrs:{flat:""}},[n("v-app-bar-nav-icon",{staticClass:"white--text",on:{click:function(e){t.drawer=!t.drawer}}}),n("v-toolbar-title",{staticClass:"text-uppercase white--text"},[n("span",{staticClass:"font-weight-light"},[t._v("VANILLA")]),n("span",[t._v(" METADATA")])]),n("v-spacer"),n("v-btn",{staticClass:"mx-3",attrs:{text:"",rounded:"",target:"_blank",rel:"noopener noreferrer",href:"https://semaphore-vanilla.data4citizen.com/vanilla"}},[n("v-img",{attrs:{contain:"","max-height":"100","max-width":"120",src:a("3db6")}}),n("v-icon",{staticClass:"ml-1 mt-1",attrs:{medium:"",color:"white"}},[t._v("mdi-open-in-new")])],1)],1),n("v-navigation-drawer",{staticClass:"indigo",attrs:{app:"",temporary:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[n("v-layout",{attrs:{column:"","align-center":""}},[n("v-flex",{staticClass:"mt-5"},[n("v-avatar",{attrs:{size:"100"}},[n("img",{attrs:{src:a("22bc")}})])],1)],1),n("v-list",t._l(t.links,(function(e){return n("v-list-item",{key:e.text,attrs:{to:e.route}},[n("v-list-item-action",[n("v-icon",{staticClass:"white--text"},[t._v(t._s(e.icon))])],1),n("v-list-item-content",[n("v-list-item-title",{staticClass:"white--text"},[t._v(t._s(e.text))])],1)],1)})),1)],1)],1)}),i=[],l={name:"Navbar",data:function(){return{drawer:!1,links:[{icon:"mdi-view-dashboard",text:"Dashboard",route:"/"}]}}},d=l,u=a("2877"),m=a("6544"),p=a.n(m),f=a("40dc"),b=a("5bc1"),v=a("8212"),g=a("8336"),h=a("0e8f"),_=a("132d"),k=a("adda"),E=a("a722"),T=a("8860"),x=a("da13"),C=a("1800"),S=a("5d23"),w=a("f774"),N=a("2fa4"),y=a("2a7f"),O=Object(u["a"])(d,r,i,!1,null,null,null),A=O.exports;p()(O,{VAppBar:f["a"],VAppBarNavIcon:b["a"],VAvatar:v["a"],VBtn:g["a"],VFlex:h["a"],VIcon:_["a"],VImg:k["a"],VLayout:E["a"],VList:T["a"],VListItem:x["a"],VListItemAction:C["a"],VListItemContent:S["a"],VListItemTitle:S["b"],VNavigationDrawer:w["a"],VSpacer:N["a"],VToolbarTitle:y["a"]});var M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-footer",{attrs:{id:"dashboard-core-footer",height:"60",absolute:"",padless:""}},[n("v-container",[n("v-row",{attrs:{align:"center","no-gutters":""}},[n("v-col",{staticClass:"text-center mb-sm-0 mb-5",attrs:{cols:"auto"}},[n("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.bottom_redirect_btn.visible,expression:"$store.state.bottom_redirect_btn.visible"}],attrs:{icon:"",color:"primary"},on:{click:function(e){return t.$store.dispatch("clickBottomBtn")}}},[n("v-icon",{attrs:{size:"24px"}},[t._v("mdi-step-backward")])],1)],1),n("v-col",{staticClass:"text-center mb-sm-0 mb-5",attrs:{cols:"auto"}},[n("v-btn",{attrs:{icon:"",color:"primary",to:"/"}},[n("v-icon",{attrs:{size:"24px"}},[t._v("mdi-home")])],1)],1),n("v-col",{staticClass:"text-center mb-sm-0 mb-5",attrs:{cols:"auto"}},[n("v-btn",{attrs:{text:"",rounded:"",target:"_blank",rel:"noopener noreferrer",href:"https://semaphore-vanilla.data4citizen.com/vanilla"}},[n("v-img",{attrs:{"max-height":"24","max-width":"90",src:a("f9c4")}})],1)],1),n("v-col",{staticClass:"text-center mb-sm-0 mb-5",attrs:{cols:"auto"}},[n("v-btn",{staticClass:"ma-0",attrs:{text:"",rounded:"",target:"_blank",rel:"noopener noreferrer",href:"http://www.bpm-conseil.com/fr"}},[n("v-img",{attrs:{"max-height":"24","max-width":"90",src:a("4396")}})],1)],1),n("v-spacer",{staticClass:"hidden-sm-and-down"}),n("v-col",{attrs:{cols:"12",md:"auto"}},[n("div",{staticClass:"body-1 font-weight-light pt-6 pt-md-0 text-center"},[t._v(" Copyright © BPM-Conseil, 2013 - "+t._s((new Date).getFullYear())+". ")])])],1)],1)],1)},V=[],P={name:"Footer"},L=P,B=(a("294d"),a("62ad")),D=a("a523"),j=a("553a"),I=a("0fd9"),R=Object(u["a"])(L,M,V,!1,null,null,null),$=R.exports;p()(R,{VBtn:g["a"],VCol:B["a"],VContainer:D["a"],VFooter:j["a"],VIcon:_["a"],VImg:k["a"],VRow:I["a"],VSpacer:N["a"]});var U=a("2f62"),K={name:"App",components:{Navbar:A,Footer:$},data:function(){return{loaded:!1,loadingMsg:"Loading...",loadingCircular:!0}},computed:Object(c["a"])({},Object(U["d"])(["snackbars"])),beforeMount:function(){this.appLoadData(),setInterval(this.appLoadData,3e5)},methods:{removeSnackbar:function(t){this.$store.dispatch("removeSnackbar",t)},appLoadData:function(){var t=this;this.$store.commit("SET_REPOSITORYNAME","Vanilla"),this.$store.commit("SET_GROUPNAME","system"),this.$store.dispatch("getMetadata").then((function(){t.loaded=!0})).catch((function(t){console.log("error here : "+t)}))}},watch:{$route:{immediate:!0,handler:function(t){document.title=t.name+" | Vanilla Metadata"||!1}}}},F=K,G=a("7496"),z=a("f6c4"),J=a("a797"),Y=a("490a"),X=a("2db4"),q=Object(u["a"])(F,s,o,!1,null,null,null),H=q.exports;p()(q,{VApp:G["a"],VBtn:g["a"],VIcon:_["a"],VMain:z["a"],VOverlay:J["a"],VProgressCircular:Y["a"],VSnackbar:X["a"]});var Q=a("8c4f"),W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard"},[a("h1",{staticClass:"subheading grey--text"},[t._v("Dashboard")]),a("v-container",{staticClass:"my-5"},[a("List"),a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"500",disabled:t.tablesLoaded,loading:t.tablesLoading}},[a("v-sheet",{staticClass:"pa-4 primary lighten-1"},[a("v-text-field",{attrs:{label:"Rechercher une table ou une colonne",dark:"",flat:"","solo-inverted":"","hide-details":"",clearable:"","clear-icon":"mdi-close-circle-outline"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-checkbox",{attrs:{dark:"","hide-details":"",label:"Recherche sensible à la casse"},model:{value:t.caseSensitive,callback:function(e){t.caseSensitive=e},expression:"caseSensitive"}})],1),a("v-card-text",[a("v-treeview",{attrs:{items:t.tables.data,search:t.search,filter:t.filter,"open-on-click":""},scopedSlots:t._u([{key:"prepend",fn:function(e){var n=e.item,s=e.open;return[n.file?a("v-icon",[t._v(" "+t._s(t.files[n.file])+" ")]):a("v-icon",[t._v(" "+t._s(s?"mdi-folder-open":"mdi-folder")+" ")])]}}])})],1)],1)],1)],1)},Z=[],tt=(a("159b"),a("d3b7"),a("3ca3"),a("ddb0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-col",{staticClass:"d-flex"},[a("v-layout",[a("v-select",{staticClass:"mx-2",attrs:{items:this.metadatas.data,label:"Metadata",outlined:""},model:{value:t.metadata,callback:function(e){t.metadata=e},expression:"metadata"}}),a("v-select",{staticClass:"mx-2",attrs:{disabled:""==t.metadata,items:this.models.data,label:"Business model",outlined:"",loading:t.loadModel},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}}),a("v-select",{staticClass:"mx-2",attrs:{disabled:""==t.model,items:this.packages.data,label:"Business package",outlined:"",loading:t.loadPackages},model:{value:t.bPackage,callback:function(e){t.bPackage=e},expression:"bPackage"}})],1)],1)}),et=[],at={data:function(){return{metadata:"",model:"",bPackage:"",loadModel:!1,loadPackages:!1}},computed:Object(c["a"])({},Object(U["d"])(["metadatas","models","packages","Tables"])),methods:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(U["b"])(["getBusinessModels","getBusinessPackages"])),Object(U["c"])(["SELECT_METADATA","SELECT_MODEL","SELECT_PACKAGE"])),{},{getModels:function(){var t=this;this.loadModel=!0,this.SELECT_METADATA(this.metadata),this.getBusinessModels(this.metadata).then((function(){t.loadModel=!1})).catch((function(){t.loadModel=!1}))},getPackages:function(){var t=this;this.loadPackages=!0,this.SELECT_MODEL(this.model),this.getBusinessPackages({metadataName:this.metadata,modelName:this.model}).then((function(){t.loadPackages=!1})).catch((function(){t.loadPackages=!1}))}}),watch:{metadata:function(){this.getModels()},model:function(){this.getPackages()},bPackage:function(){this.SELECT_PACKAGE(this.bPackage)}}},nt=at,st=(a("8528"),a("b974")),ot=Object(u["a"])(nt,tt,et,!1,null,"16cf82b8",null),ct=ot.exports;p()(ot,{VCol:B["a"],VLayout:E["a"],VSelect:st["a"]});var rt={name:"Dashboard",components:{List:ct},data:function(){return{initiallyOpen:["public"],search:"",caseSensitive:!1,files:{txt:"mdi-file-document-outline"},tablesLoaded:!0,tablesLoading:!1}},computed:Object(c["a"])(Object(c["a"])({},Object(U["d"])(["metadatas","models","packages","tables"])),{},{filter:function(){return this.caseSensitive?function(t,e,a){return t[a].indexOf(e)>-1}:void 0},items:function(){var t=[];return t}}),methods:Object(c["a"])({},Object(U["b"])(["getTables","getColumns"])),watch:{packages:{handler:function(){var t=this;console.log("this.packages.selected : "+this.packages.selected),""!=this.packages.selected&&(this.tablesLoading=!0,this.getTables({metadataName:this.metadatas.selected,modelName:this.models.selected,packageName:this.packages.selected}).then((function(){var e=[];t.tables.data.forEach((function(a){console.log("Table : "+a.name),e.push(t.getColumns({metadataName:t.metadatas.selected,modelName:t.models.selected,packageName:t.packages.selected,tableName:a.name}))})),Promise.all(e).then((function(){t.tablesLoaded=!1,t.tablesLoading=!1,console.log("Tables loaded : "+t.tablesLoaded),console.log("Tables : "+JSON.stringify(t.tables.data))}))})))},deep:!0}}},it=rt,lt=a("b0af"),dt=a("99d9"),ut=a("ac7c"),mt=a("8dd9"),pt=a("8654"),ft=a("eb2a"),bt=Object(u["a"])(it,W,Z,!1,null,null,null),vt=bt.exports;p()(bt,{VCard:lt["a"],VCardText:dt["a"],VCheckbox:ut["a"],VContainer:D["a"],VIcon:_["a"],VSheet:mt["a"],VTextField:pt["a"],VTreeview:ft["a"]});var gt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ht=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("Error 404 : Page not found")])])}],_t={name:"NotFound"},kt=_t,Et=Object(u["a"])(kt,gt,ht,!1,null,null,null),Tt=Et.exports;n["a"].use(Q["a"]);var xt=[{path:"/",name:"Dashboard",component:vt},{path:"*",component:Tt}],Ct=new Q["a"]({mode:"history",routes:xt}),St=Ct,wt=(a("a434"),a("9911"),a("99af"),a("7db0"),a("bc3a")),Nt=a.n(wt),yt=a("7dc5");Nt.a.defaults.baseURL=yt.baseURL,Nt.a.defaults.headers.common["X-Gravitee-Api-Key"]="f3510842-ef9b-4ee7-8877-4d59b5d63907",n["a"].use(U["a"]);var Ot=new U["a"].Store({state:{repositoryName:"",groupName:"",metadatas:{name:"Metadatas",data:[],selected:""},models:{name:"Business Models",data:[],selected:""},packages:{name:"Business Packages",data:[],selected:""},tables:{name:"Business Tables ",data:[],columns:[],selected:"",idCount:0},snackbars:{id:0,data:[]},bottom_redirect_btn:{visible:!1,link:""}},mutations:{ADD_SNACKBAR:function(t,e){t.snackbars.data.push(e)},REMOVE_SNACKBAR:function(t,e){t.snackbars.data.splice(e,1)},SET_BOTTOM_REDIRECT_BTN:function(t,e){t.bottom_redirect_btn=e},SET_REPOSITORYNAME:function(t,e){t.repositoryName=e},SET_GROUPNAME:function(t,e){t.groupName=e},SET_METADATAS:function(t,e){t.metadatas.data=e},SET_MODELS:function(t,e){t.models.data=e},SET_PACKAGES:function(t,e){t.packages.data=e},SET_TABLES:function(t,e){t.tables.data=e},SELECT_METADATA:function(t,e){t.metadatas.selected=e},SELECT_MODEL:function(t,e){t.models.selected=e},SELECT_PACKAGE:function(t,e){t.packages.selected=e},INC_ID:function(t){t.tables.idCount++}},actions:{setBottomBtn:function(t,e){var a=t.commit;a("SET_BOTTOM_REDIRECT_BTN",e)},clickBottomBtn:function(t){var e=t.commit,a=t.state;""!=a.bottom_redirect_btn.link&&(St.push(a.bottom_redirect_btn.link),e("SET_BOTTOM_REDIRECT_BTN",{visible:!1,link:""}))},addSnackbar:function(t,e){var a=t.state,n=t.commit,s=t.dispatch;e.id=a.snackbars.id,a.snackbars.id++,n("ADD_SNACKBAR",e),setTimeout((function(t){t("removeSnackbar",e)}),5e3,s)},removeSnackbar:function(t,e){var a=t.state,n=t.commit,s=a.snackbars.data.indexOf(e);-1!=s&&n("REMOVE_SNACKBAR",s)},getMetadata:function(t){var e=t.commit,a=t.getters;return new Promise((function(t,n){Nt.a.get("/repository/".concat(a.repositoryName,"/group/").concat(a.groupName,"/metadatas")).then((function(a){"success"==a.data.status&&e("SET_METADATAS",a.data.result),t()})).catch((function(t){t.reponse?console.log("Unable to retrieve metadatas message : "+t.response.data.message):console.log("Unable to retrieve metadatas : "+t),n(t)}))}))},getBusinessModels:function(t,e){var a=t.commit,n=t.getters;return new Promise((function(t,s){Nt.a.get("/repository/".concat(n.repositoryName,"/group/").concat(n.groupName,"/metadata/").concat(e,"/models")).then((function(e){"success"==e.data.status&&a("SET_MODELS",e.data.result),t()})).catch((function(t){t.reponse?console.log("Unable to retrieve metadatas message : "+t.response.data.message):console.log("Unable to retrieve metadatas : "+t),s(t)}))}))},getBusinessPackages:function(t,e){var a=t.commit,n=t.getters,s=e.metadataName,o=e.modelName;return new Promise((function(t,e){Nt.a.get("/repository/".concat(n.repositoryName,"/group/").concat(n.groupName,"/metadata/").concat(s,"/model/").concat(o,"/packages")).then((function(e){"success"==e.data.status&&a("SET_PACKAGES",e.data.result),t()})).catch((function(t){t.reponse?console.log("Unable to retrieve metadatas message : "+t.response.data.message):console.log("Unable to retrieve metadatas : "+t),e(t)}))}))},getTables:function(t,e){var a=t.commit,n=t.getters,s=t.dispatch,o=e.metadataName,c=e.modelName,r=e.packageName;return new Promise((function(t,e){Nt.a.get("/repository/".concat(n.repositoryName,"/group/").concat(n.groupName,"/metadata/").concat(o,"/model/").concat(c,"/package/").concat(r,"/tables")).then((function(e){if("success"==e.data.status){var n=[];e.data.result.forEach((function(t){s("getTableNewID").then((function(e){n.push({id:e,name:t,children:[]})}))})),a("SET_TABLES",n)}t()})).catch((function(t){t.reponse?console.log("Unable to retrieve metadatas message : "+t.response.data.message):console.log("Unable to retrieve metadatas : "+t),e(t)}))}))},getColumns:function(t,e){var a=t.commit,n=t.getters,s=t.dispatch,o=e.metadataName,c=e.modelName,r=e.packageName,i=e.tableName;return new Promise((function(t,e){Nt.a.get("/repository/".concat(n.repositoryName,"/group/").concat(n.groupName,"/metadata/").concat(o,"/model/").concat(c,"/package/").concat(r,"/table/").concat(i,"/columns")).then((function(e){if("success"==e.data.status){var o=n.tables,c=o.find((function(t){return t.name==i}));e.data.result.forEach((function(t){s("getTableNewID").then((function(e){c.children.push({id:e,name:t,file:"txt"})}))}))}a("SET_TABLES",o),t()})).catch((function(t){t.reponse?console.log("Unable to retrieve metadatas message : "+t.response.data.message):console.log("Unable to retrieve metadatas : "+t),e(t)}))}))},getTableNewID:function(t){var e=t.state,a=t.commit,n=e.tables.idCount;return a("INC_ID"),new Promise((function(t){t(n)}))}},getters:{repositoryName:function(t){return t.repositoryName},groupName:function(t){return t.groupName},tables:function(t){return t.tables.data}},modules:{}}),At=a("f309");n["a"].use(At["a"]);var Mt=new At["a"]({});n["a"].config.productionTip=!1,new n["a"]({router:St,store:Ot,vuetify:Mt,render:function(t){return t(H)}}).$mount("#app")},"729b":function(t,e,a){},"7dc5":function(t){t.exports=JSON.parse('{"baseURL":"http://localhost:9015/api/1.0"}')},8528:function(t,e,a){"use strict";a("729b")},"9ea8":function(t,e,a){},f9c4:function(t,e,a){t.exports=a.p+"img/vanilla.6e506a77.png"}});
//# sourceMappingURL=app.c1fb0a0a.js.map