(function(t){function e(e){for(var n,r,s=e[0],c=e[1],u=e[2],l=0,f=[];l<s.length;l++)r=s[l],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&f.push(o[r][0]),o[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);p&&p(e);while(f.length)f.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,r=1;r<a.length;r++){var s=a[r];0!==o[s]&&(n=!1)}n&&(i.splice(e--,1),t=c(c.s=a[0]))}return t}var n={},r={app:0},o={app:0},i=[];function s(t){return c.p+"js/"+({about:"about"}[t]||t)+"."+{about:"e57abe5c"}[t]+".js"}function c(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(t){var e=[],a={about:1};r[t]?e.push(r[t]):0!==r[t]&&a[t]&&e.push(r[t]=new Promise((function(e,a){for(var n="css/"+({about:"about"}[t]||t)+"."+{about:"2d750f64"}[t]+".css",o=c.p+n,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var u=i[s],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===n||l===o))return e()}var f=document.getElementsByTagName("style");for(s=0;s<f.length;s++){u=f[s],l=u.getAttribute("data-href");if(l===n||l===o)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var n=e&&e.target&&e.target.src||o,i=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=n,delete r[t],p.parentNode.removeChild(p),a(i)},p.href=o;var m=document.getElementsByTagName("head")[0];m.appendChild(p)})).then((function(){r[t]=0})));var n=o[t];if(0!==n)if(n)e.push(n[2]);else{var i=new Promise((function(e,a){n=o[t]=[e,a]}));e.push(n[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=s(t);var f=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(p);var a=o[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;f.message="Loading chunk "+t+" failed.\n("+n+": "+r+")",f.name="ChunkLoadError",f.type=n,f.request=r,a[1](f)}o[t]=void 0}};var p=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=n,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(a,n,function(e){return t[e]}.bind(null,n));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var f=0;f<u.length;f++)e(u[f]);var p=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"22bc":function(t,e,a){t.exports=a.p+"img/icon_vanilla.1c9b3430.png"},"294d":function(t,e,a){"use strict";a("9ea8")},"3db6":function(t,e,a){t.exports=a.p+"img/vanilla_white.34deb758.png"},4396:function(t,e,a){t.exports=a.p+"img/BPMConseil.0f4f5753.png"},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{staticClass:"grey lighten-4"},[t.loaded?a("div",[a("Navbar"),a("v-main",{staticClass:"mx-4 pb-15"},[a("router-view")],1),a("Footer")],1):a("div",[a("v-overlay",{attrs:{opacity:"1",value:"true"}},[t.loadingCircular?a("v-progress-circular",{attrs:{indeterminate:"",size:"100"}},[t._v(" "+t._s(t.loadingMsg)+" ")]):a("div",{staticClass:"ma-5"},[t._v(" "+t._s(t.loadingMsg)+" ")])],1)],1)])},o=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",[n("v-app-bar",{staticClass:"indigo",attrs:{flat:""}},[n("v-app-bar-nav-icon",{staticClass:"white--text",on:{click:function(e){t.drawer=!t.drawer}}}),n("v-toolbar-title",{staticClass:"text-uppercase white--text"},[n("span",{staticClass:"font-weight-light"},[t._v("VANILLA")]),n("span",[t._v(" KPI USER")])]),n("v-spacer"),n("v-btn",{staticClass:"mx-3",attrs:{text:"",rounded:"",target:"_blank",rel:"noopener noreferrer",href:"https://semaphore-vanilla.data4citizen.com/vanilla"}},[n("v-img",{attrs:{contain:"","max-height":"100","max-width":"120",src:a("3db6")}}),n("v-icon",{staticClass:"ml-1 mt-1",attrs:{medium:"",color:"white"}},[t._v("mdi-open-in-new")])],1)],1),n("v-navigation-drawer",{staticClass:"indigo",attrs:{app:"",temporary:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[n("v-layout",{attrs:{column:"","align-center":""}},[n("v-flex",{staticClass:"mt-5"},[n("v-avatar",{attrs:{size:"100"}},[n("img",{attrs:{src:a("22bc")}})])],1)],1),n("v-list",t._l(t.links,(function(e){return n("v-list-item",{key:e.text,attrs:{to:e.route}},[n("v-list-item-action",[n("v-icon",{staticClass:"white--text"},[t._v(t._s(e.icon))])],1),n("v-list-item-content",[n("v-list-item-title",{staticClass:"white--text"},[t._v(t._s(e.text))])],1)],1)})),1)],1)],1)},s=[],c={name:"Navbar",data:function(){return{drawer:!1,links:[{icon:"mdi-chart-bell-curve",text:"Charts",route:"/"}]}}},u=c,l=a("2877"),f=a("6544"),p=a.n(f),m=a("40dc"),d=a("5bc1"),h=a("8212"),v=a("8336"),g=a("0e8f"),b=a("132d"),E=a("adda"),x=a("a722"),C=a("8860"),_=a("da13"),w=a("1800"),I=a("5d23"),y=a("f774"),T=a("2fa4"),k=a("2a7f"),P=Object(l["a"])(u,i,s,!1,null,null,null),S=P.exports;p()(P,{VAppBar:m["a"],VAppBarNavIcon:d["a"],VAvatar:h["a"],VBtn:v["a"],VFlex:g["a"],VIcon:b["a"],VImg:E["a"],VLayout:x["a"],VList:C["a"],VListItem:_["a"],VListItemAction:w["a"],VListItemContent:I["a"],VListItemTitle:I["b"],VNavigationDrawer:y["a"],VSpacer:T["a"],VToolbarTitle:k["a"]});var V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-footer",{attrs:{id:"dashboard-core-footer",height:"60",absolute:"",padless:""}},[n("v-container",[n("v-row",{attrs:{align:"left","no-gutters":""}},[n("v-col",{staticClass:"text-center mb-sm-0 mb-5",attrs:{cols:"auto"}},[n("v-btn",{attrs:{icon:"",color:"primary",to:"/"}},[n("v-icon",{attrs:{size:"24px"}},[t._v("mdi-home")])],1)],1),n("v-col",{staticClass:"text-center mb-sm-0 mb-5",attrs:{cols:"auto"}},[n("v-btn",{attrs:{text:"",rounded:"",target:"_blank",rel:"noopener noreferrer",href:"https://semaphore-vanilla.data4citizen.com/vanilla"}},[n("v-img",{attrs:{"max-height":"24","max-width":"90",src:a("f9c4")}})],1)],1),n("v-col",{staticClass:"text-center mb-sm-0 mb-5",attrs:{cols:"auto"}},[n("v-btn",{staticClass:"ma-0",attrs:{text:"",rounded:"",target:"_blank",rel:"noopener noreferrer",href:"http://www.bpm-conseil.com/fr"}},[n("v-img",{attrs:{"max-height":"24","max-width":"90",src:a("4396")}})],1)],1),n("v-spacer",{staticClass:"hidden-sm-and-down"}),n("v-col",{attrs:{cols:"12",md:"auto"}},[n("div",{staticClass:"body-1 font-weight-light pt-6 pt-md-0 text-center"},[t._v(" Copyright © BPM-Conseil, 2013 - "+t._s((new Date).getFullYear())+". ")])])],1)],1)],1)},A=[],F={name:"Footer"},H=F,O=(a("294d"),a("62ad")),D=a("a523"),L=a("553a"),M=a("0fd9"),j=Object(l["a"])(H,V,A,!1,null,null,null),K=j.exports;p()(j,{VBtn:v["a"],VCol:O["a"],VContainer:D["a"],VFooter:L["a"],VIcon:b["a"],VImg:E["a"],VRow:M["a"],VSpacer:T["a"]});var R={name:"App",components:{Navbar:S,Footer:K},data:function(){return{loaded:!1,loadingMsg:"Loading...",loadingCircular:!0}},beforeMount:function(){this.appLoadData()},methods:{appLoadData:function(){var t=this;this.$store.dispatch("getGroups").then((function(){t.loaded=!0})).catch((function(){t.loadingMsg="Impossible d'établir la connexion au serveur, veuillez rafraichir la page ou contacter l'administrateur.",t.loadingCircular=!1}))}}},B=R,N=a("7496"),U=a("f6c4"),X=a("a797"),z=a("490a"),G=Object(l["a"])(B,r,o,!1,null,null,null),$=G.exports;p()(G,{VApp:N["a"],VMain:U["a"],VOverlay:X["a"],VProgressCircular:z["a"]});a("d3b7"),a("3ca3"),a("ddb0");var J=a("8c4f");n["a"].use(J["a"]);var q=[{path:"/",name:"Home",component:function(){return a.e("about").then(a.bind(null,"bb51"))}}],Y=new J["a"]({routes:q}),Q=Y,W=a("1da1"),Z=(a("96cf"),a("159b"),a("b0c0"),a("4de4"),a("99af"),a("4e827"),a("ac1f"),a("1276"),a("2f62")),tt=a("bc3a"),et=a.n(tt),at=a("7dc5");et.a.defaults.baseURL=at.baseURL,et.a.defaults.headers.common["X-Gravitee-Api-Key"]="f3510842-ef9b-4ee7-8877-4d59b5d63907",n["a"].use(Z["a"]);var nt=new Z["a"].Store({state:{users:{name:"Utilisateurs",data:[{name:"system"}]},groups:{name:"Groupes",data:[]},observatories:{name:"Observatoires",data:[]},themes:{name:"Themes",data:[]},kpi:{name:"KPI",data:[]},axis:{name:"axes",data:[]},axisvalues:{name:"axesvalues",data:[]},temp:{name:"temporaire",data:[]}},mutations:{FETCH_USERS:function(t,e){t.users.data=e},FETCH_GROUPS:function(t,e){t.groups.data=e},FETCH_OBSERVATORIES:function(t,e){t.observatories.data=e},FETCH_THEMES:function(t,e){t.themes.data=e},FETCH_KPI:function(t,e){t.kpi.data=e},FETCH_AXIS:function(t,e){t.axis.data=e},FETCH_AXIS_VALUES:function(t,e){t.axisvalues.data=e},FETCH_TEMP:function(t,e){t.temp.data=e}},actions:{getObservatories:function(t,e){var a=t.commit,n=[];et.a.get("/group/".concat(e,"/observatories")).then((function(t){t.data.result.forEach((function(t){n.some((function(e){return e.id==t.id}))||n.push(t)}))})).catch((function(t){console.log("Error retrieving repositories : "+t.response.data.message)})),a("FETCH_OBSERVATORIES",n),a("FETCH_AXIS",[])},getGroups:function(t){return Object(W["a"])(regeneratorRuntime.mark((function e(){var a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,n=t.getters,r=n.users,e.next=4,et.a.get("/user/".concat(r[0].name,"/groups")).then((function(t){a("FETCH_GROUPS",t.data.result)})).catch((function(t){console.log("Error retrieving groups : "+t.response.data.message)}));case 4:case"end":return e.stop()}}),e)})))()},getTheme:function(t,e){var a=t.commit,n=[];et.a.get("/group/".concat(e,"/themes")).then((function(t){t.data.result.forEach((function(t){n.some((function(e){return e.id==t.id}))||n.push(t)}))})).catch((function(t){console.log("Error retrieving repositories : "+t.response.data.message)})),a("FETCH_THEMES",n),a("FETCH_AXIS",[])},getThemeByObs:function(t,e){var a=t.commit,n=t.getters,r=n.observatories,o=r.filter((function(t){return t.name==e})),i=[];void 0!==o[0]&&(et.a.get("/observatory/".concat(o[0].id,"/themes")).then((function(t){t.data.result.forEach((function(t){i.some((function(e){return e.id==t.id}))||i.push(t)}))})).catch((function(t){console.log("Error retrieving repositories : "+t.response.data.message)})),a("FETCH_THEMES",i),a("FETCH_AXIS",[]))},getKPI:function(t,e){var a=t.commit,n=e.group,r=e.theme,o=e.themes;return new Promise((function(t,e){var i=[],s=o.filter((function(t){return t.name==r}));s.forEach((function(t){for(var e=function(e){i.some((function(a){return a.kpiID==t.metrics[e].kpiID}))||i.push(t.metrics[e])},a=0;a<t.metrics.length;a++)e(a)}));var c=[];i.forEach((function(t){t.result=[],c.push(et.a.get("/group/".concat(n,"/kpi/").concat(t.kpiID,"/values")).then((function(e){t.result.push(e.data.result)})).catch((function(t){console.log("Error retrieving KPI : "+t.response.data.message)})))})),Promise.all(c).then((function(){i.forEach((function(t){t.result[0].sort((function(t,e){return new Date(e.date)-new Date(t.date)}))})),console.log(i),a("FETCH_KPI",i),a("FETCH_AXIS",[]),t()})).catch((function(){e()}))}))},getOneKPI:function(t,e){var a=t.commit,n=t.getters,r=e.kpiID,o=e.date,i=o.split("-"),s=i[2]+"-"+i[1]+"-"+i[0],c=n.temp;return new Promise((function(t,e){var n=[],o=c.themes.filter((function(t){return t.name==c.theme}));o.forEach((function(t){for(var e=function(e){!n.some((function(a){return a.kpiID==t.metrics[e].kpiID}))&t.metrics[e].kpiID==r&&n.push(t.metrics[e])},a=0;a<t.metrics.length;a++)e(a)}));var i=[];n.forEach((function(t){t.result=[],i.push(et.a.get("/group/".concat(c.group,"/kpi/").concat(t.kpiID,"/value?date=").concat(s)).then((function(e){t.result.push(e.data.result)})).catch((function(t){console.log("Error retrieving KPI : "+t.response.data.message)})))})),Promise.all(i).then((function(){n.forEach((function(t){var e=t.result[0];t.result[0]=[],t.result[0].push(e)})),console.log(n),a("FETCH_KPI",n),t()})).catch((function(){e()}))}))},resetKPI:function(t){var e=t.getters,a=e.temp,n={group:a.group,theme:a.theme,themes:a.themes};this.dispatch("getKPI",n)},tempData:function(t,e){var a=t.commit;a("FETCH_TEMP",e)},getKPIDate:function(t,e){var a=t.commit,n=t.getters,r=e.split("-"),o=r[2]+"-"+r[1]+"-"+r[0],i=n.temp;return new Promise((function(t,e){var n=[],r=i.themes.filter((function(t){return t.name==i.theme}));r.forEach((function(t){for(var e=function(e){n.some((function(a){return a.kpiID==t.metrics[e].kpiID}))||n.push(t.metrics[e])},a=0;a<t.metrics.length;a++)e(a)}));var s=[];n.forEach((function(t){t.result=[],s.push(et.a.get("/group/".concat(i.group,"/kpi/").concat(t.kpiID,"/value?date=").concat(o)).then((function(e){t.result.push(e.data.result)})).catch((function(t){console.log("Error retrieving KPI : "+t.response.data.message)})))})),Promise.all(s).then((function(){n.forEach((function(t){var e=t.result[0];t.result[0]=[],t.result[0].push(e)})),a("FETCH_KPI",n),a("FETCH_AXIS",[]),t()})).catch((function(){e()}))}))},getallAxis:function(t){return Object(W["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.next=3,et.a.get("/axis").then((function(t){a("FETCH_AXIS",t.data.result)})).catch((function(t){console.log("Error retrieving axis : "+t.response.data.message)}));case 3:case"end":return e.stop()}}),e)})))()},getAxis:function(t,e){var a=t.commit;et.a.get("/kpi/".concat(e,"/axis")).then((function(t){a("FETCH_AXIS",t.data.result)})).catch((function(t){console.log("Error retrieving axis : "+t.response.data.message)}))},getAxisValue:function(t,e){var a,n=this,r=t.getters,o=e.kpiID,i=e.childrenID,s=e.date,c=r.temp,u=s.split("-"),l=u[2]+"-"+u[1]+"-"+u[0],f=r.axis;f.forEach((function(t){t.children.forEach((function(e){e.id==i&&(a=t.id)}))})),et.a.get("/group/".concat(c.group,"/kpi/").concat(o,"/axis/").concat(a,"/value?date=").concat(l)).then((function(t){n.commit("FETCH_AXIS_VALUES",t.data.result)})).catch((function(t){console.log("Error retrieving axis values : "+t.response.data.message)}))}},getters:{users:function(t){return t.users.data},groups:function(t){return t.groups.data},observatories:function(t){return t.observatories.data},themes:function(t){return t.themes.data},kpi:function(t){return t.kpi.data},axis:function(t){return t.axis.data},axisvalues:function(t){return t.axisvalues.data},temp:function(t){return t.temp.data}},modules:{}}),rt=a("f309");n["a"].use(rt["a"]);var ot=new rt["a"]({});n["a"].config.productionTip=!1,new n["a"]({router:Q,store:nt,vuetify:ot,render:function(t){return t($)}}).$mount("#app")},"7dc5":function(t){t.exports=JSON.parse('{"baseURL":"https://semaphore-gravitee-gateway.data4citizen.com/vanilla-api"}')},"9ea8":function(t,e,a){},f9c4:function(t,e,a){t.exports=a.p+"img/vanilla.6e506a77.png"}});
//# sourceMappingURL=app.3021b095.js.map